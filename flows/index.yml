jtype: Flow
with:
  workspace: $JINA_WORKSPACE
  title: LegalQA
  description: Korean LegalQA System
executors:
  - name: Preprocess
    uses: pods/preprocess.yml
  - name: SentenceSplitter
    uses: pods/segment.yml
  - name: SentenceKoBART
    uses: pods/encode.yml
    uses_with:
      default_traversal_paths: '@r,c'
  - name: DocVecIndexer
    uses: jinahub://SimpleIndexer
    install_requirements: true
  - name: KeyValIndexer
    uses: jinahub://LMDBStorage
    install_requirements: true
    uses_with:
      default_traversal_paths: '@r'
